"use strict";(globalThis.webpackChunk_nand2tetris_web=globalThis.webpackChunk_nand2tetris_web||[]).push([[965],{8965:(e,n,o)=>{o.r(n),o.d(n,{MONACO_DARK_THEME:()=>d,MONACO_LIGHT_THEME:()=>a,Monaco:()=>c,default:()=>g,makeDecorations:()=>s});var t=o(7983),r=o(3535),i=o(8878),l=o(8029),u=o(782);const s=(e,n,o,t,r,i="highlight",l=!0)=>{if(!n||!o)return r;const u=n.getModel();if(!u)return r;const s=u.getPositionAt(o.start),a=u.getPositionAt(o.end),d=null===e||void 0===e?void 0:e.Range.fromPositions(s,a),c=[];d&&(c.push({range:d,options:{inlineClassName:"error"==i?"error-highlight":"highlight"}}),o.start!=o.end&&(!l&&((e,n)=>{for(const t of null!==(o=null===e||void 0===e?void 0:e.getVisibleRanges())&&void 0!==o?o:[]){var o;if(t.containsRange(n))return!0}return!1})(n,d)||n.revealRangeInCenter(d)));for(const g of t){const n=null===e||void 0===e?void 0:e.Range.fromPositions(u.getPositionAt(g.span.start),u.getPositionAt(g.span.end));n&&c.push({range:n,options:{inlineClassName:g.cssClass}})}return n.deltaDecorations(r,c)},a="vs",d="vs-dark",c=({value:e,onChange:n,onCursorPositionChange:o,language:c,error:g,disabled:v=!1,highlight:f,highlightType:h="highlight",customDecorations:m=[],dynamicHeight:p=!1,alwaysRecenter:M=!0,lineNumberTransform:b})=>{const{theme:C}=(0,i.useContext)(l.BR),E=(0,i.useRef)(),[N,O]=(0,i.useState)(0),k=(0,i.useRef)(),A=(0,i.useRef)([]),R=(0,i.useRef)(void 0),y=(0,i.useRef)([]),L=(0,i.useCallback)((()=>("system"===C?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===C)?d:a),[C]),P=(0,i.useCallback)((()=>{var e;let n;if("number"==typeof R.current){var o,t,r;const e=null!==(o=null===(t=k.current)||void 0===t||null===(r=t.getModel())||void 0===r?void 0:r.getLineCount())&&void 0!==o?o:0;if(R.current<=e){var i,l,u,a,d,c,g,v,f;n={start:null!==(i=null===(l=k.current)||void 0===l||null===(u=l.getModel())||void 0===u?void 0:u.getOffsetAt({lineNumber:R.current,column:0}))&&void 0!==i?i:0,end:R.current==e?null!==(a=null===(d=k.current)||void 0===d||null===(c=d.getModel())||void 0===c?void 0:c.getValueLength())&&void 0!==a?a:0:(null!==(g=null===(v=k.current)||void 0===v||null===(f=v.getModel())||void 0===f?void 0:f.getOffsetAt({lineNumber:R.current+1,column:0}))&&void 0!==g?g:1)-1,line:R.current}}}else n=R.current;A.current=s(E.current||null,k.current,null!==(e=n)&&void 0!==e?e:{start:0,end:0,line:0},y.current,A.current,h,M)}),[A,E,k,R,h]),_=()=>{if(p){var e;const n=null===(e=k.current)||void 0===e?void 0:e.getContentHeight();n&&O(n)}};(0,i.useEffect)((()=>{R.current=f,P()}),[f]),(0,i.useEffect)((()=>{y.current=m,P()}),[m]);const w=(0,i.useCallback)(((e,n)=>{var t,i,l;E.current=n,k.current=e,null===(t=k.current)||void 0===t||t.updateOptions({fontFamily:'"JetBrains Mono", source-code-pro, Menlo, Monaco,\n      Consolas, "Roboto Mono", "Ubuntu Monospace", "Noto Mono", "Oxygen Mono",\n      "Liberation Mono", monospace, "Apple Color Emoji", "Segoe UI Emoji",\n      "Segoe UI Symbol", "Noto Color Emoji"',fontSize:16,minimap:{enabled:!1},theme:L(),scrollBeyondLastLine:!1,readOnly:v,lineNumbers:null!==b&&void 0!==b?b:"on",renderValidationDecorations:"on",folding:!1,quickSuggestions:{other:"inline"}}),P(),_(),null===(i=k.current)||void 0===i||i.onDidChangeCursorPosition((e=>{var n,t;const r=null===(n=k.current)||void 0===n||null===(t=n.getModel())||void 0===t?void 0:t.getOffsetAt(e.position);void 0!==r&&(null===o||void 0===o||o(r))}));const u=null===(l=k.current)||void 0===l?void 0:l.getModel();null===u||void 0===u||u.setEOL(r.EN.EndOfLineSequence.LF)}),[L]);(0,i.useEffect)((()=>{void 0!==k.current&&k.current.updateOptions({lineNumbers:null!==b&&void 0!==b?b:"on"})}),[b]),(0,i.useEffect)((()=>{void 0!==k.current&&k.current.updateOptions({theme:L()})}),[k,L]),(0,i.useEffect)((()=>{void 0!==k.current&&k.current.updateOptions({readOnly:v,renderValidationDecorations:"on"})}),[k,v]),(0,i.useEffect)((()=>{if(!k.current)return;if(!E.current)return;const e=k.current.getModel();if(null===e)return;if(void 0===g||void 0===g.span)return void E.current.editor.setModelMarkers(e,c,[]);const n=e.getPositionAt(g.span.start),o=e.getPositionAt(g.span.end);E.current.editor.setModelMarkers(e,c,[{message:g.message,startColumn:n.column,startLineNumber:n.lineNumber,endColumn:o.column,endLineNumber:o.lineNumber,severity:8}])}),[g,k,E,c]);return(0,u.jsx)(t.Ay,{value:e,onChange:(e="")=>{_(),n(e)},language:c,onMount:w,height:p?N:void 0})},g=c}}]);